
var map = L.map('map').setView([0, 0], 2);

L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
}).addTo(map);

var geojson = {
    "type": "FeatureCollection",
    "features": [
        {
            "type": "Feature",
            "properties": {
                "stroke": "#555555",
                "stroke-width": 2,
                "stroke-opacity": 1,
                "fill": "#555555",
                "fill-opacity": 0.5,
                "name": "poland"
            },
            "geometry": {
                "type": "Polygon",
                "coordinates": [
                    [
                        [
                            19.442500146214087,
                            54.77615713797395
                        ],
                        [
                            18.991853906250707,
                            54.7625623189621
                        ],
                        [
                            18.546419549552112,
                            54.72193600172765
                        ],
                        [
                            18.111316787934022,
                            54.65474972390077
                        ],
                        [
                            17.691484408611814,
                            54.561779890384564
                        ],
                        [
                            17.29159811245116,
                            54.44409392932519
                        ],
                        [
                            16.91599765443958,
                            54.3030316646333
                        ],
                        [
                            16.568625369375987,
                            54.140182590277114
                        ],
                        [
                            16.25297743916869,
                            53.95735983818513
                        ],
                        [
                            15.972068504605208,
                            53.75657168594313
                        ],
                        [
                            15.728409511107511,
                            53.53999145409701
                        ],
                        [
                            15.52399805921523,
                            53.30992660177164
                        ],
                        [
                            15.360320043194685,
                            53.06878775261411
                        ],
                        [
                            15.238361023052242,
                            52.81905828154491
                        ],
                        [
                            15.158625586568142,
                            52.5632649774459
                        ],
                        [
                            15.12116290499049,
                            52.303950177781694
                        ],
                        [
                            15.125596745577704,
                            52.04364565654675
                        ],
                        [
                            15.171158348389348,
                            51.78484844301783
                        ],
                        [
                            15.256720775096902,
                            51.529998659518306
                        ],
                        [
                            15.380833568006215,
                            51.281459393703976
                        ],
                        [
                            15.541756796124416,
                            51.0414985650288
                        ],
                        [
                            15.737493795281157,
                            50.81227270507262
                        ],
                        [
                            15.965822119522652,
                            50.59581254552177
                        ],
                        [
                            16.22432240440707,
                            50.39401029354786
                        ],
                        [
                            16.510404996465383,
                            50.20860846974745
                        ],
                        [
                            16.821334326911686,
                            50.04119018637561
                        ],
                        [
                            17.154251103691823,
                            49.89317075124612
                        ],
                        [
                            17.506192467414156,
                            49.7657904936022
                        ],
                        [
                            17.874110307515036,
                            49.6601087210507
                        ],
                        [
                            18.254887969243267,
                            49.5769987302123
                        ],
                        [
                            18.64535560360761,
                            49.51714380730283
                        ],
                        [
                            19.04230442484161,
                            49.481034167946895
                        ],
                        [
                            19.442500146214087,
                            49.468964797896874
                        ],
                        [
                            19.84269586758656,
                            49.481034167946895
                        ],
                        [
                            20.23964468882056,
                            49.51714380730283
                        ],
                        [
                            20.630112323184907,
                            49.5769987302123
                        ],
                        [
                            21.01088998491313,
                            49.6601087210507
                        ],
                        [
                            21.378807825014018,
                            49.7657904936022
                        ],
                        [
                            21.730749188736358,
                            49.89317075124613
                        ],
                        [
                            22.06366596551649,
                            50.04119018637561
                        ],
                        [
                            22.37459529596279,
                            50.20860846974745
                        ],
                        [
                            22.6606778880211,
                            50.39401029354786
                        ],
                        [
                            22.919178172905518,
                            50.59581254552175
                        ],
                        [
                            23.147506497147013,
                            50.81227270507262
                        ],
                        [
                            23.343243496303757,
                            51.0414985650288
                        ],
                        [
                            23.504166724421957,
                            51.281459393703976
                        ],
                        [
                            23.62827951733127,
                            51.5299986595183
                        ],
                        [
                            23.713841944038823,
                            51.78484844301783
                        ],
                        [
                            23.759403546850468,
                            52.04364565654675
                        ],
                        [
                            23.763837387437682,
                            52.30395017778169
                        ],
                        [
                            23.72637470586003,
                            52.5632649774459
                        ],
                        [
                            23.646639269375928,
                            52.81905828154491
                        ],
                        [
                            23.524680249233487,
                            53.06878775261411
                        ],
                        [
                            23.36100223321294,
                            53.30992660177164
                        ],
                        [
                            23.156590781320663,
                            53.53999145409701
                        ],
                        [
                            22.912931787822966,
                            53.75657168594313
                        ],
                        [
                            22.632022853259485,
                            53.95735983818513
                        ],
                        [
                            22.31637492305219,
                            54.140182590277114
                        ],
                        [
                            21.969002637988595,
                            54.3030316646333
                        ],
                        [
                            21.593402179977012,
                            54.44409392932519
                        ],
                        [
                            21.193515883816357,
                            54.561779890384564
                        ],
                        [
                            20.773683504494155,
                            54.65474972390077
                        ],
                        [
                            20.33858074287606,
                            54.72193600172765
                        ],
                        [
                            19.893146386177467,
                            54.7625623189621
                        ],
                        [
                            19.442500146214087,
                            54.77615713797395
                        ]
                    ]
                ]
            },
            "id": 1
        },
        {
            "type": "Feature",
            "properties": {
                "name": "iceland",
                "stroke": "#555555",
                "stroke-width": 2,
                "stroke-opacity": 1,
                "fill": "#555555",
                "fill-opacity": 0.5
            },
            "geometry": {
                "type": "Polygon",
                "coordinates": [
                    [
                        [
                            -18.730929163933297,
                            67.27771356597742
                        ],
                        [
                            -19.287774070853523,
                            67.26618520462449
                        ],
                        [
                            -19.837720114286757,
                            67.23174412543634
                        ],
                        [
                            -20.374013592897125,
                            67.1748191973342
                        ],
                        [
                            -20.890184427848375,
                            67.0961148728738
                        ],
                        [
                            -21.380171803456303,
                            66.99659622818238
                        ],
                        [
                            -21.83843195748132,
                            66.87746903431632
                        ],
                        [
                            -22.260024535780975,
                            66.74015576332303
                        ],
                        [
                            -22.640675547563873,
                            66.58626854830071
                        ],
                        [
                            -22.976816568622326,
                            66.41758015395588
                        ],
                        [
                            -23.265601279008607,
                            66.23599397899387
                        ],
                        [
                            -23.504901572419648,
                            66.04351401743342
                        ],
                        [
                            -23.693286275268484,
                            65.84221556988336
                        ],
                        [
                            -23.82998595466475,
                            65.63421733626241
                        ],
                        [
                            -23.91484740915409,
                            65.42165535527312
                        ],
                        [
                            -23.948281284776026,
                            65.20665909695924
                        ],
                        [
                            -23.931205915480657,
                            64.99132987277642
                        ],
                        [
                            -23.864990025280477,
                            64.77772160871376
                        ],
                        [
                            -23.751396415275433,
                            64.56782393352368
                        ],
                        [
                            -23.592528243957073,
                            64.36354746570471
                        ],
                        [
                            -23.390779030969796,
                            64.16671113728702
                        ],
                        [
                            -23.148787095545927,
                            63.97903136633859
                        ],
                        [
                            -22.869394791955894,
                            63.80211287962944
                        ],
                        [
                            -22.555612627275984,
                            63.6374409882824
                        ],
                        [
                            -22.210588137131637,
                            63.48637512905963
                        ],
                        [
                            -21.837579244674906,
                            63.350143499255815
                        ],
                        [
                            -21.439931727007558,
                            63.22983863163776
                        ],
                        [
                            -21.021060351331368,
                            63.126413775698126
                        ],
                        [
                            -20.584433210628113,
                            63.04067997140368
                        ],
                        [
                            -20.133558777064376,
                            62.97330372077948
                        ],
                        [
                            -19.671975193317675,
                            62.92480518060174
                        ],
                        [
                            -19.203241331724392,
                            62.89555681597656
                        ],
                        [
                            -18.730929163933297,
                            62.88578246967781
                        ],
                        [
                            -18.2586169961422,
                            62.89555681597656
                        ],
                        [
                            -17.78988313454892,
                            62.92480518060174
                        ],
                        [
                            -17.328299550802218,
                            62.97330372077948
                        ],
                        [
                            -16.877425117238488,
                            63.04067997140368
                        ],
                        [
                            -16.440797976535226,
                            63.126413775698104
                        ],
                        [
                            -16.02192660085903,
                            63.22983863163776
                        ],
                        [
                            -15.624279083191686,
                            63.350143499255815
                        ],
                        [
                            -15.251270190734957,
                            63.48637512905963
                        ],
                        [
                            -14.90624570059061,
                            63.6374409882824
                        ],
                        [
                            -14.5924635359107,
                            63.80211287962944
                        ],
                        [
                            -14.313071232320668,
                            63.97903136633859
                        ],
                        [
                            -14.0710792968968,
                            64.16671113728702
                        ],
                        [
                            -13.869330083909517,
                            64.36354746570471
                        ],
                        [
                            -13.71046191259116,
                            64.56782393352368
                        ],
                        [
                            -13.596868302586113,
                            64.77772160871376
                        ],
                        [
                            -13.530652412385937,
                            64.99132987277642
                        ],
                        [
                            -13.513577043090567,
                            65.20665909695924
                        ],
                        [
                            -13.547010918712504,
                            65.42165535527312
                        ],
                        [
                            -13.631872373201842,
                            65.63421733626241
                        ],
                        [
                            -13.768572052598111,
                            65.84221556988336
                        ],
                        [
                            -13.956956755446946,
                            66.04351401743342
                        ],
                        [
                            -14.196257048857985,
                            66.23599397899387
                        ],
                        [
                            -14.485041759244268,
                            66.41758015395588
                        ],
                        [
                            -14.821182780302719,
                            66.58626854830071
                        ],
                        [
                            -15.201833792085612,
                            66.74015576332303
                        ],
                        [
                            -15.623426370385273,
                            66.87746903431632
                        ],
                        [
                            -16.08168652441029,
                            66.99659622818237
                        ],
                        [
                            -16.57167390001822,
                            67.0961148728738
                        ],
                        [
                            -17.087844734969465,
                            67.1748191973342
                        ],
                        [
                            -17.624138213579833,
                            67.23174412543634
                        ],
                        [
                            -18.17408425701307,
                            67.26618520462449
                        ],
                        [
                            -18.730929163933297,
                            67.27771356597742
                        ]
                    ]
                ]
            },
            "id": 2
        },
        {
            "type": "Feature",
            "properties": {
                "name": "usa",
                "stroke": "#555555",
                "stroke-width": 2,
                "stroke-opacity": 1,
                "fill": "#555555",
                "fill-opacity": 0.5
            },
            "geometry": {
                "coordinates": [
                    [
                        [
                            -123.37285053626564,
                            48.87765290201261
                        ],
                        [
                            -128.3610069084241,
                            36.00449344670736
                        ],
                        [
                            -80.50200901916256,
                            24.699729633843347
                        ],
                        [
                            -66.80599065645481,
                            42.554605769246365
                        ],
                        [
                            -69.68549374975129,
                            45.70871996139792
                        ],
                        [
                            -83.3553288050245,
                            41.86774825251467
                        ],
                        [
                            -95.13336493775242,
                            48.97620124653011
                        ],
                        [
                            -123.37285053626564,
                            48.87765290201261
                        ]
                    ]
                ],
                "type": "Polygon"
            },
            "id": 2
        }
    ]
}

L.geoJSON(geojson).addTo(map);


function checkAnswer(e, feature) {
    var clickedPoint = turf.point([e.latlng.lng, e.latlng.lat]);


    var countryPolygon = turf.polygon(feature.geometry.coordinates);

    if (turf.booleanPointInPolygon(clickedPoint, countryPolygon)) {
        alert('Correct! You clicked inside ' + feature.properties.name);
    } else {
        alert('Incorrect! Try again.');
    }
}


L.geoJSON(geojson, {
    onEachFeature: function (feature, layer) {
        layer.on('click', function (e) {
            checkAnswer(e, feature);
        });
    }
}).addTo(map);
